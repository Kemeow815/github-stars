---
project: blog
stars: 29
description: |-
    我的 blog
url: https://github.com/OverflowCat/blog
---

<!-- ![新世界的大门 Logo](https://user-images.githubusercontent.com/20166026/203767771-c977f2cb-30da-49a9-8936-761fc4ee3450.svg#gh-dark-mode-only)
![新世界的大门 Logo](https://user-images.githubusercontent.com/20166026/203770324-bafac264-f05f-4ce4-b944-d28e5de06e0d.svg#gh-light-mode-only) -->
<h1 align="center">新世界的大门 blog</h1>

[![Built with Astro](https://astro.badg.es/v2/built-with-astro/tiny.svg)](https://astro.build)
![Build status](https://github.com/OverflowCat/blog/actions/workflows/pages.yml/badge.svg)

<!-- About this blog, see [About](https://blog.xinshijiededa.men/about/). Below are technical details. -->

<!-- 关于本博客，见[关于](https://blog.xinshijiededa.men/about/)。以下是技术细节。 -->

This is the blog by Overflow the Cat (@OverflowCat), containing my thoughts, translations, and other content. You may find posts on various topics, including but not limited to programming, engineering, linguistics, and life in general.

这是 Overflow the Cat（@OverflowCat）的博客，包含我的思考、翻译和其他内容。阁下可能会在这里找到关于各种主题的文章，包括但不限于编程、工程、语言和生活。

The blog is written in Standard Mandarin, Lower Yangtze Mandarin, Szechuanese, Manchu and English at the moment.

目前，本博客使用标准普通话、淮语、四川话、满语和英语撰写。

## Develop 开发

- `pnpm install`: install deps 安装依赖
- `pnpm dev`: start dev server 启动开发服务器
- `pnpm dm`: start dev server with extra heap memory (macOS) 启动开发服务器并分配更多堆内存（用于 macOS）
- `pnpm build`: build for production 构建
- `pnpm bump`: update deps 更新依赖
- `pnpm new <slug>`: create a new article 创建新文章，可以指定路径
- `pnpm neo <uuid>`: fetch data from Neodb by uuid 通过 uuid 从 Neodb 获取数据

## Terms and Conditions 条款和条件

**This blog** refers to `xinshijiededa.men` and its subdomains. **I** refers to the author of this blog, Overflow the Cat (@OverflowCat). **You** refers to the one somehow engaging with this blog, who should be informed of these terms and conditions.

**本博客**指的是 `xinshijiededa.men` 及其子域名。**我**指的是本博客的作者 OverflowCat（@OverflowCat，也被称作「前端之猫」「溢出猫」）。**阁下**指的是与本博客某种程度上有所交互的人，伊应知会这些条款和条件。

This blog fully trusts your autonomy. I believes that you understand the Internet is a vast and disturbing place that gathers many users, that you can protect your privacy in various ways, that you are willing to use a browser that supports the CSS features of this blog, that you can enlarge images that are too small to view, that you can use generative artificial intelligence to understand the content of articles, that you can view the publication time of articles and verify the content, and that you can distinguish between the author's opinions and facts.

童谣有云：「我会自己上厕所」。本博客充分信任阁下的自主性，确信阁下理解互联网是一个聚集众多用户、巨大且令人产生困扰的领域，且能够使用各种方式保护自己的隐私，愿意使用支持本博客 CSS 特性的浏览器访问本博客，会自行放大查看过小的图片，会自行使用生成式人工智能理解文章内容，会自行查看文章的发布时间并查证内容，会分辨哪些是作者的观点而非事实。

### Privacy 隐私

**Using the blog** refers to when you access the content of this blog through a browser, terminal browser, RSS reader, etc., and send comments. When you use this blog, GitHub Pages and I collect your visit time, IP address, user agent, referer, browser language, and cookie (always null) if you choose to visit this blog. Currently, most pages on this site do not contain JavaScript, nor do they use any cookies or other technologies to track your behavior, unless you modify the cookie for fun.

**使用**是指当阁下通过浏览器、终端浏览器、RSS 阅读器等访问本博客的内容以及发送评论。当阁下使用本博客时，我和 Github Pages 会收集阁下的访问时间、IP 地址、用户代理、referer<sup>[<i>sic</i>]</sup>、浏览器语言和 Cookie（总是 null）。目前，本站大部分页面不含有 JavaScript，同时也没有使用任何 Cookie 或其他技术来追踪阁下的行为，除非阁下自己觉得好玩修改了 Cookie。

When you use the in-site search engine (neo-)uglysearch, the search queries are stored by the search engine provider STWP for auditing purposes. Some bad guy with a red avatar (not me) behind the scene may laugh and disclose some insane queries.

当阁下使用站内搜索引擎（新）丑搜时，query 会被搜索引擎提供商 STWP 存储，用于审计目的。某些人（不是我）可能会开示一些疯狂的 query。

### Comments 评论

**Comments** are reviews posted by me and visitors under each article. They are moderated before being published, so you can use any HTML tags. I reserve the right to remove any comments that are deemed inappropriate. Comments are licensed under the [CC BY-ND 4.0 License](https://creativecommons.org/licenses/by-nd/4.0/). Comments will be submitted to this repository by creating a PR. You can request the removal of your comments at any time, but they may remain in the pull request and/or git history of this repository.

**评论**是指我和访客在每篇文章下发表的内容。评论先审后发，因此可以使用任意的 HTML 标记。我保留删除任何被视为不当的评论的权利。评论一经发表，即使用 [CC BY-ND 4.0 许可证](https://creativecommons.org/licenses/by-nd/4.0/)。评论将会通过创建 PR 的方式提交到本仓库。阁下可以随时要求删除阁下的评论，但他们可能会留在本仓库的 pull request 及/或 git 历史中。

### Contributions 贡献

**Contributions** refer to the changes you make to the source code and content of this blog, including but not limited to pull requests, issues, and discussions. Contributions are licensed under the [MIT License](/LICENSE). By contributing to this blog, you agree to license your contributions under the MIT License.

**贡献**指的是阁下对本博客的源代码和内容所做的更改，包括但不限于 pull request、issue 和讨论。贡献使用 [MIT 许可证](/LICENSE)。通过对本博客的贡献，阁下同意将阁下的贡献以上述协议释出。

You are welcome to suggest any suggestions, questions, fixes, and improvements to this blog. You can usually find a link to the source code of the corresponding article at the bottom of each page.

我欢迎阁下对本博客提出任何建议、问题、修复、改进。阁下通常可以在每个页面的最底部找到指向对应那篇文章的源代码的链接。

## Licenses 许可证

**Licenses** refers to the ways you can use the content of this blog granted by the author.

**许可证**指的是作者授予阁下使用本博客内容的方式。

**Articles** refers to the Markdown, MDX, Textile, Typst, org, etc. files under `src/posts`.
Article contents **ususally** are licensed under one of the [CC](https://creativecommons.org/) licenses. You ought check the license section on each generated pages, or the corresponding article's frontmatter. Usually, following the most strict CC BY-NC-ND 4.0 license is always feasible.

文章指的是 `src/posts` 下的 Markdown、MDX、Typst 等文件。文章内容**通常**使用 [CC](https://creativecommons.org/) 许可证。你应该查看每个生成页面的许可部分，或者对应文章的 frontmatter。通常，遵循最严格的 CC BY-NC-ND 4.0 许可证总是可行的。

Some articles are translated from other authors, the copyright of these articles belongs to the original authors. All translated articles have been authorized by the original authors, or follows the license of the original articles.

部分文章为译自其他作者的文章，这些文章的版权归原作者所有。所有译文均已获得原作者的授权，或遵循原文章的许可证。

**Assets** refers to the images, videos, audios, fonts, etc. files that are used in the articles. The assets are licensed under the same license as the articles they are used in, unless otherwise specified.

资产指的是文章中使用的图片、视频、音频、字体等文件。资产的许可证与它们所用的文章相同，除非另有说明。

The **source code** refers to those content in Astro, Vue, Qwik, Svelte, TSX, CSS, LESS, SCSS, etc. files. The source code is licensed under the [MIT License](/LICENSE). It is not intended to be used as a starter template, as it contains many custom components designed especially for my own use cases.
You can reach me out for help (and I'm happy to do so)if you do want to use this
framework for your blog or copy some styles from it, though.

**源代码**指的是 Astro、Vue、Qwik、Svelte、TSX、CSS、LESS、SCSS 等文件中的内容。源代码使用 [MIT 许可证](/LICENSE)。目前暂无封装为模板的打算，因为里面有许多专门为我的用例设计的奇妙自定义组件。不过，如果你确实想要为你的博客使用这个框架，或者抄一些样式，你可以联系我寻求帮助（我很乐意提供帮助，并且的确有人这么做过）。

The aforementioned comments are files under `comments`. The comments are usually posted by visitors, and are licensed under the [CC BY-ND 4.0 License](https://creativecommons.org/licenses/by-nd/4.0/).

前述的评论是 `comments` 下的文件。评论通常是访客发表的，使用 [CC BY-ND 4.0 许可证](https://creativecommons.org/licenses/by-nd/4.0/)。

**Webfonts** refers to the fonts used on the website that are included using the `@font-face` rule in the CSS files.

**Webfont** 指的是在网站上使用 CSS 的 `@font-face` 规则导入的字体。

There are multiple webfonts used on this website, most of the fonts like IBM Plex series and Noto series and their Nerd Font derivatives are licensed under SIL Open Font License 1.1. The license files for these fonts can be found on the [SIL website](https://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=OFL). You are not allowed to sell these font files separately.

网站上使用了多种 Webfont，大部分字体如 IBM Plex 系列和思源系列以及其 Nerd Font 衍生字体都使用 SIL Open Font License 1.1 许可证。这些字体的许可证文件可以在 [SIL 官网](https://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=OFL) 找到。阁下不得单独出售这些字体文件。

Harmony Sans and Harmony Symbols are used on the website, you are not allowed to modify, redistribute or sell these fonts, a copy of the HarmonyOS Sans font license is included in the source code. Some system fonts used by device vendors are specified on the website, such as Mi Sans, Pingfang, and Sim* series fonts, the use of these fonts is subject to their respective license agreements.

网站上使用了 Harmony Sans、Harmony Symbols，阁下不得修改、重分发或出售这些字体，源码中附带一份 HarmonyOS Sans 字体许可证。网站上还指定了一些阁下设备供应商使用的系统字体，例如 Mi Sans、苹方、中易系列字体等，这些字体的使用受到各自的许可证约束。

The blog uses the API of Neodb, and the data is vendored under <samp>src/content/neodb</samp>. The copyright of these data belongs to Neodb and the copyright holders of these works.

本博客使用了 Neodb 上书影音的 API，并且将数据 vendor 在 <samp>src/content/neodb</samp> 下。这些数据的版权归 Neodb 以及这些作品的版权持有人所有。

## Changelog 更新日志

### Astro 5.0

迁移到了 content layers。该版本不支持对 Markdown 文件使用 layout。

### Astro 3.0

#### scopedStyleStrategy

Remove postcss `inaccurate-pseudo-where`, as using classes is available in Astro@2.4 and 3.0 uses data attributes.

#### Image

- `sharp`: see [Missing Sharp](https://docs.astro.build/en/reference/errors/missing-sharp/).

Moving images from [`/public`](/public/) to the content collection.

- [x] Use `image()` in frontmatter

  Problem: Many covers are not local images.

- [x] Fix og image
      https://docs.astro.build/en/guides/images/#generating-images-with-getimage

#### RSS

```sh
λ src/pages/atom.xml.ts
13:25:37 [astro] Lower case endpoint names are deprecated and will not be supported in Astro 4.0. Rename the endpoint get to GET.
  └─ /atom.xml (+142ms)
```

